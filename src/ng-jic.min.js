angular.module('ngJic',[]).factory('ngJic',jicFactory);let types=['jpeg','png'];function jicFactory(){function b(d){let e=document.createElement('canvas');return e.width=d.width,e.height=d.height,e.getContext('2d').drawImage(d,0,0),e}function c(d){return 0<=types.indexOf(d)}return{compress:function(d,e,f='jpg'){let g,h,i,j;if('jpg'===f)g='image/jpeg';else if(c(f))g=`image/${f}`;else throw new SyntaxError('This output format is not supported. '+`Input: '${f}'. Expected: jpg, jpeg, png`);return h=b(d),i=h.toDataURL(g,e/100),j=new Image,j.src=i,j}}}